---
id: TD-231.1
title: "**F.1 Assignment & exposure**"
source_doc: "TechDevBlueprint.docx"
source_path: "docs\blueprints\tech\TD-231-113f-expanded-experimentation-framework\TD-231.1-f1-assignment-exposure.md"
parent_id: TD-231
anchor: "TD-231.1"
checksum: "sha256:934ea5681045e9b8efd13f6336b0b8854bf2c0f75e4ac134ea0c91224baa91aa"
last_modified: "2025-11-06T20:40:46Z"
doc_kind: "TD"
h_level: 3
---
<a id="TD-231.1"></a>
### **F.1 Assignment & exposure**

- **Assignment function** (deterministic):

*bucket = (fnv1a(hash_key = user_id \|\| anon_id \|\| "EXP_KEY") % 100)*  

- Store assignment in **AppConfig** or a small Dynamo table *exp_assignment* (for overrides).
- Log *exp.exposed* **once** per experiment per user at first exposure checkpoint.

***exp.exposed.v1*** **schema**

*{*  
*"required": \["exp_key","variant","checkpoint"\],*  
*"properties": {*  
*"exp_key": {"type":"string"},*  
*"variant": {"type":"string"},*  
*"checkpoint": {"type":"string","enum":\["search","profile","checkout","postbook"\]}*  
*}*  
*}*
