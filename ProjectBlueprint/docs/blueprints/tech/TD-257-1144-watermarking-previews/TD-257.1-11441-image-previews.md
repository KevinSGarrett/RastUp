---
id: TD-257.1
title: "**1.14.4.1 Image previews**"
source_doc: "TechDevBlueprint.docx"
source_path: "docs\blueprints\tech\TD-257-1144-watermarking-previews\TD-257.1-11441-image-previews.md"
parent_id: TD-257
anchor: "TD-257.1"
checksum: "sha256:cdf2087920c00031bc49fccd488ac95a1820cbb3912026fac6fe38f4e6aaa936"
last_modified: "2025-11-06T20:40:46Z"
doc_kind: "TD"
h_level: 3
---
<a id="TD-257.1"></a>
### **1.14.4.1 Image previews**

- **Pipeline**: S3 upload → Lambda trigger:

  - Validate MIME/size → Rekognition NSFW → ClamAV → **Resize** max dimension = *preview_policy.image_max_px* → **Watermark**.

- **Watermark spec**:

  - Content: *@{handle} · {order_or_ppv_id} · {date YYYY‑MM‑DD}*
  - Position: diagonal; **tile** every ~400–600px; 40–55% opacity; font *Inter*/fallback; 14–18px @1x.
  - Color: auto black/white depending on local luminance.
