---
id: TD-39.3
title: "**L.3 Engine behavior**"
source_doc: "TechDevBlueprint.docx"
source_path: "docs\blueprints\tech\TD-39-13l-cancellation-refund-policy-engine\TD-39.3-l3-engine-behavior.md"
parent_id: TD-39
anchor: "TD-39.3"
checksum: "sha256:6d488f5df5e5dc8433609f276df9e8e2252c0be0aeadf855a1e8030ffacc5a9f"
last_modified: "2025-11-06T20:40:46Z"
doc_kind: "TD"
h_level: 3
---
<a id="TD-39.3"></a>
### **L.3 Engine behavior**

- Compute **hours_to_start = start_at - cancel_request_time (UTC)**.
- Select band; compute buyer refund and seller retained amount per **leg total**, **then** reâ€‘compute taxes/refunds per provider rules.
- If **provider cancels**, buyer gets **full refund** by default.
- **Admin override** permitted with audit fields (*reason*, *actor*, *evidence_ref*).
