---
id: TD-596.4
title: "**1.5.D GraphQL schema (AppSync)**"
source_doc: "TechDevBlueprint.docx"
source_path: "docs\blueprints\tech\TD-596-15-trust-safety-verification-technical-development-plan\TD-596.4-15d-graphql-schema-appsync.md"
parent_id: TD-596
anchor: "TD-596.4"
checksum: "sha256:f8fe2ca2a5d928dbf0cf8e7cec4010cf49085ac3a0e721c2812b760249000099"
last_modified: "2025-11-06T20:40:46Z"
doc_kind: "TD"
h_level: 3
---
<a id="TD-596.4"></a>
### **1.5.D GraphQL schema (AppSync)**

**Types (abridged but complete for MVP flows)**

*type TrustFlags {*  
*is18PlusAttested: Boolean!*  
*idvStatus: IDVStatus!*  
*trustedProStatus: BackgroundStatus!*  
*socialVerified: SocialVerified*  
*studioVerified: Boolean!*  
*safeModePreference: SafeModePref!*  
*instantBookEligible: Boolean!*  
*nsfwToggleEligible: Boolean!*  
*payoutsEligible: Boolean!*  
*riskScore: Float!*  
*strikesActive: Int!*  
*}*  
  
*enum IDVStatus { NONE PENDING PASSED FAILED EXPIRED }*  
*enum BackgroundStatus { NONE PENDING PASSED FAILED EXPIRED }*  
*enum SafeModePref { DEFAULT_ON OFF }*  
  
*type StartIdvSessionResult { sessionClientSecret: String!, caseId: ID! }*  
*type StartBgCheckResult { vendorUrl: AWSURL!, caseId: ID! }*  
  
*type Mutation {*  
*attestAge18Plus(consent: Boolean!): TrustFlags @aws_cognito_user_pools*  
  
*startIdvSession(returnUrl: AWSURL): StartIdvSessionResult @aws_cognito_user_pools*  
*\# webhook -\> completeIdvSession is IAM-protected Lambda resolver*  
  
*startBackgroundCheck(package: String!): StartBgCheckResult @aws_cognito_user_pools*  
  
*setSafeModePreference(pref: SafeModePref!): TrustFlags @aws_cognito_user_pools*  
  
*reportUser(targetUserId: ID!, reason: String!, evidenceRefs: \[ID!\]): ID @aws_cognito_user_pools*  
*reportContent(targetId: ID!, kind: String!, reason: String!, evidenceRefs: \[ID!\]): ID @aws_cognito_user_pools*  
  
*appeal(caseId: ID!, message: String!, evidenceRefs: \[ID!\]): ID @aws_cognito_user_pools*  
*}*  
  
*type Query {*  
*myTrustFlags: TrustFlags @aws_cognito_user_pools*  
*}*  

**Admin (separate Admin AppSync API or IAM‑guarded namespace)**

- *listCases(state, type)*, *decideCase(caseId, decision)*, *applyStrike(userId, policy, points)*, *pauseUser*, *unpauseUser*, *exportEvidence(reportId)* with **immutable audit logs** and **two‑step confirmations** per your implementation rules.

NonTechBlueprint_Part3
