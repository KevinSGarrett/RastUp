---
id: TD-596.5
title: "**1.5.E State machines (AWS Step Functions)**"
source_doc: "TechDevBlueprint.docx"
source_path: "docs\blueprints\tech\TD-596-15-trust-safety-verification-technical-development-plan\TD-596.5-15e-state-machines-aws-step-functions.md"
parent_id: TD-596
anchor: "TD-596.5"
checksum: "sha256:d2aba25af3d0d12d03fb6f43251022b53b6270903e6a0e61c0394208b4e7b880"
last_modified: "2025-11-06T20:40:46Z"
doc_kind: "TD"
h_level: 3
---
<a id="TD-596.5"></a>
### **1.5.E State machines (AWS Step Functions)**

**IDV flow**  
*Start → OpenVendorSession → WaitForWebhook → ValidateResult → UpdateTrustFlags → (Unlock: payoutsEligible, nsfwToggleEligible, instantBookEligible) → NotifyUser*

- **Unlocks are exactly per your plan** (IDV gates payouts/NSFW/IB).

NonTechBlueprint

**Background check (Trusted Pro)**  
*Start → CollectDisclosure/Consent → VendorInvite (Checkr) → WaitForWebhook → Adjudication (pass\|fail\|manual) → UpdateFlags (trustedProStatus) → Notify + Badge*

**Moderation (media)**  
*Ingest → Tier-0 classify → If uncertain/highReach → Tier-1 vendor → Derive Decision (allow\|blur\|block) → Write ModerationItem → Update media.safeModeRequired → If block → queue human review*

**Reports/Appeals**  
*ReportOpened → Auto‑triage (severity heuristics) → Queue → Human decision → Apply actions (strikes/pauses) → Evidence snapshot → Notify + AppealWindow → (if appeal) SecondReview → Finalize & log*
